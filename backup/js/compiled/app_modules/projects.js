var lightbox,load_projects;load_projects=function(n){return $.each(n,function(n,e){return n%3===0&&$("#carousel").append('<div class="slide">\n	<div class="container">\n		<div class="content">\n			<div class="row"></div>\n		</div>\n	</div>\n</div>'),$("#carousel .slide:last-of-type .row").append('<div class="col lg-4">\n	<div class="item animated fadeIn">\n		<div class="img-caption">\n			<img src="img/works/'+e["class"]+'.jpg">\n			<a class="'+e["class"]+'" href="img/works/'+e["class"]+'-full.jpg">\n				<div class="caption">\n					<div class="inner-caption">\n						<span class="icon-link"></span>\n						<p>\n							<project_lang class="en">'+e.desc_en+'</project_lang>\n							<project_lang class="ru">'+e.desc_ru+'</project_lang>\n						</p>\n					</div>\n				</div>\n			</a>\n		</div>\n		<div class="name">\n			<h4>\n				<project_lang class="en">'+e.name_en+'</project_lang>\n				<project_lang class="ru">'+e.name_ru+"</project_lang>\n			</h4>\n		</div>\n	</div>\n</div>"),$("#carousel-mobile").append('<div class="slide">\n	<div class="container">\n		<div class="content">\n			<div class="item">\n				<div class="img-caption">\n					<a class="'+e["class"]+'" href="img/works/'+e["class"]+'-full.jpg">\n						<img src="img/works/'+e["class"]+'.jpg">\n					</a>\n				</div>\n				<div class="name">\n					<h4>\n						<project_lang class="en">'+e.name_en+'</project_lang>\n						<project_lang class="ru">'+e.name_ru+'</project_lang>\n					</h4>\n				</div>\n				<p>\n					<project_lang class="en">'+e.desc_en+'</project_lang>\n					<project_lang class="ru">'+e.desc_ru+"</project_lang>\n				</p>\n			</div>\n		</div>\n	</div>\n</div>")}),$("#carousel").owlCarousel({items:1,onDrag:function(){return $(".swipe-active").removeClass("active").addClass("active"),setTimeout(function(){return $(".swipe-active").removeClass("active")},500)}}),$("#carousel-mobile").owlCarousel({items:1,onDrag:function(){return $(".swipe-active").removeClass("active").addClass("active"),setTimeout(function(){return $(".swipe-active").removeClass("active")},500)}}),$(".caption").hover(function(){return $(this).parent().find("img").addClass("blurred")},function(){return $(this).parent().find("img").removeClass("blurred")})},lightbox={dom:$("#lightbox"),prev_button:$("#lightbox .prev-img"),next_button:$("#lightbox .next-img"),close:function(){return $("#lightbox").hide().find("img").remove()},show:function(n){var e;return e=project_classes[n],this.dom.find("img").remove(),this.dom.append("<img id='"+e+"' src='img/works/"+e+"-full.jpg'>")}},$("body").on("click","#projects a",function(n){return n.preventDefault()}),$("body").on("click","#lightbox img",function(){return lightbox.close()}),lightbox.next_button.on("click",function(){var n,e;return n=lightbox.dom.find("img").attr("class"),e=project_classes.indexOf(n),lightbox.show(e+1)}),lightbox.dom.on("mousemove",function(n){var e,s,i,a,t,c;return mobile?void 0:(t=20,i=$(this).find("img"),e=$(this).height(),a=i.height()+2*t,c=a/(a-e),s=n.pageY*a/e/c,i.css("top",t-s))});